#!/usr/bin/env bash

if [ -f "$HOME/bin/mycommon" ]; then
    . "$HOME/bin/mycommon"
fi

function main(){
    local cmd=$(printf "logout\npoweroff\nreboot\nsuspend\nlock\n" | rofi -location 2 -font "Noto Sans 8" -dmenu -l 10 -line-margin 0 -line-padding 1 -xoffset 50 -yoffset 20 -width 10 -i -p "Pick a choice:" $*)
    
    [ -z "$cmd" ] && return 0
    
    case "$cmd" in
        poweroff)
            ~/bin/myshutdown
        ;;
        reboot)
            ~/bin/myreboot
        ;;
        suspend)
            ~/bin/mysuspend
        ;;
        lock)
            ~/bin/autolock lock
        ;;
        logout)
            ~/bin/myexit
        ;;
        *)
            printf "Option not recognized: %s\n" "$cmd" >&2
        ;;
    esac
    return 0
}

main "$@"